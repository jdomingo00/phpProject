#!/usr/bin/env node

var path = require('path'),
    fs = require('../lib/less-node/fs'),
    os = require('os'),
    utils = require('../lib/less/utils'),
    Constants = require('../lib/less/constants'),
    errno,
    mkdirp;

try {
    errno = require('errno');
} catch (err) {
    errno = null;
}

var less = require('../lib/less-node'),
    pluginManager = new less.PluginManager(less),
    fileManager = new less.FileManager(),
    plugins = [],
    queuePlugins = [],
    args = process.argv.slice(1),
    silent = false,
    verbose = false,
    options = less.options;

options.plugins = plugins;
options.reUsePluginManager = true;

var sourceMapOptions = {};
var continueProcessing = true;

// Calling process.exit does not flush stdout always. Instead of exiting the process,